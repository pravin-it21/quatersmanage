{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Danusshkumar\\\\Desktop\\\\TAC\\\\Apartment-Management-System\\\\frontend\\\\src\\\\components\\\\withAuthorization.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst withAuthorization = (WrappedComponent, allowedRole) => {\n  return class extends React.Component {\n    render() {\n      const user = JSON.parse(localStorage.getItem('user'));\n      const role = user ? user.role : null;\n\n      if (role === allowedRole) {\n        return /*#__PURE__*/_jsxDEV(WrappedComponent, { ...this.props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 11,\n          columnNumber: 16\n        }, this);\n      } else {\n        // Redirect to login page or an unauthorized page\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 16\n        }, this);\n      }\n    }\n\n  };\n};\n\nexport default withAuthorization;","map":{"version":3,"sources":["C:/Users/Danusshkumar/Desktop/TAC/Apartment-Management-System/frontend/src/components/withAuthorization.js"],"names":["React","Redirect","withAuthorization","WrappedComponent","allowedRole","Component","render","user","JSON","parse","localStorage","getItem","role","props"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;;AAEA,MAAMC,iBAAiB,GAAG,CAACC,gBAAD,EAAmBC,WAAnB,KAAmC;AAC3D,SAAO,cAAcJ,KAAK,CAACK,SAApB,CAA8B;AACnCC,IAAAA,MAAM,GAAG;AACP,YAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,YAAMC,IAAI,GAAGL,IAAI,GAAGA,IAAI,CAACK,IAAR,GAAe,IAAhC;;AAEA,UAAIA,IAAI,KAAKR,WAAb,EAA0B;AACxB,4BAAO,QAAC,gBAAD,OAAsB,KAAKS;AAA3B;AAAA;AAAA;AAAA;AAAA,gBAAP;AACD,OAFD,MAEO;AACL;AACA,4BAAO,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAAP;AACD;AACF;;AAXkC,GAArC;AAaD,CAdD;;AAgBA,eAAeX,iBAAf","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst withAuthorization = (WrappedComponent, allowedRole) => {\r\n  return class extends React.Component {\r\n    render() {\r\n      const user = JSON.parse(localStorage.getItem('user'));\r\n      const role = user ? user.role : null;\r\n\r\n      if (role === allowedRole) {\r\n        return <WrappedComponent {...this.props} />;\r\n      } else {\r\n        // Redirect to login page or an unauthorized page\r\n        return <Redirect to='/login' />;\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport default withAuthorization;\r\n"]},"metadata":{},"sourceType":"module"}