{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Danusshkumar\\\\Desktop\\\\TAC\\\\quaters-management-system\\\\frontend\\\\src\\\\components\\\\Ledger.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { Row, Col } from \"react-bootstrap\";\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport dateFormat from 'dateformat';\nimport Header from './Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Ledger extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visitors: [],\n      vehicles: []\n    };\n  }\n\n  componentDidMount() {\n    axios({\n      method: 'get',\n      url: 'visitor',\n      baseURL: 'http://localhost:8082/'\n    }).then(res => {\n      this.setState({\n        visitors: res.data\n      });\n    }).catch(err => {\n      console.log('Error from visitor');\n    });\n    axios({\n      method: 'get',\n      url: 'vehicle',\n      baseURL: 'http://localhost:8082/'\n    }).then(res => {\n      this.setState({\n        vehicles: res.data\n      });\n    }).catch(err => {\n      console.log('Error from vehicle');\n    });\n  }\n\n  render() {\n    //console.log(this.state.visitors);\n    let visitors = this.state.visitors;\n    let vehicles = this.state.vehicles;\n    let visitorList;\n    let vehicleList;\n\n    let btn = /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/dashboard/ledger/add\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          display: 'inline-block',\n          float: 'right',\n          fontSize: '18px',\n          marginRight: '10%'\n        },\n        variant: \"warning\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"+ Add Entries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 126\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }, this);\n\n    if (this.props.user.role === 'association') {\n      btn = \"\";\n    }\n\n    if (visitors.length === 0) visitorList = /*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: 'gray'\n        },\n        children: \"There is no visitor record!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }, this);else visitorList = visitors.map((v, i) => /*#__PURE__*/_jsxDEV(VisitorCard, {\n      visitor: v\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 42\n    }, this));\n    if (vehicles.length === 0) vehicleList = /*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: 'gray'\n        },\n        children: \"There is no vehicle record!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }, this);else {\n      vehicleList = vehicles.map((v, i) => /*#__PURE__*/_jsxDEV(VehicleCard, {\n        vehicle: v\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 42\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '7%',\n          color: 'black'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"center\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Ledger\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 43\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            textAlign: 'center',\n            margin: 'auto',\n            marginLeft: '9%',\n            display: 'inline-block'\n          },\n          children: \"Visitors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), btn, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"record\",\n          style: {\n            margin: 'auto',\n            width: '85%',\n            fontSize: '25px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"w3-card-4\",\n            style: {\n              backgroundColor: '#600970',\n              color: 'white'\n            },\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              style: {\n                padding: '15px 10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: \"Visitor Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: \"Mobile No.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: \"Visited\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"record\",\n          style: {\n            margin: 'auto',\n            width: '85%',\n            fontSize: '22px'\n          },\n          children: visitorList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginLeft: '7%'\n          },\n          children: \"Vehicles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 56\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"record\",\n          style: {\n            margin: 'auto',\n            width: '85%',\n            fontSize: '25px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"w3-card-4\",\n            style: {\n              backgroundColor: '#600970',\n              color: 'white'\n            },\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              style: {\n                padding: '15px 10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: \"Driver Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: \"Vehicle No.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: \"Driver no.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: \"Visited\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"record\",\n          style: {\n            margin: 'auto',\n            width: '85%',\n            fontSize: '22px'\n          },\n          children: vehicleList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction VisitorCard(props) {\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"w3-card-4\",\n    style: {\n      marginBottom: '5px'\n    },\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        padding: '15px 10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: props.visitor.first_name + \" \" + props.visitor.last_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: props.visitor.mobile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: dateFormat(props.visitor.visit_date, \"mmm dS, yyyy\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: props.visitor.visit_time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: props.visitor.fname + \" \" + props.visitor.lname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_c = VisitorCard;\n\nfunction VehicleCard(props) {\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"w3-card-4\",\n    style: {\n      marginBottom: '5px'\n    },\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        padding: '15px 10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: props.vehicle.drivername\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: props.vehicle.vehicleno\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: props.vehicle.driverno\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: dateFormat(props.vehicle.visit_date, \"mmm dS, yyyy\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: props.vehicle.visit_time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: props.vehicle.first_name + \" \" + props.vehicle.last_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = VehicleCard;\nexport default Ledger;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"VisitorCard\");\n$RefreshReg$(_c2, \"VehicleCard\");","map":{"version":3,"sources":["C:/Users/Danusshkumar/Desktop/TAC/quaters-management-system/frontend/src/components/Ledger.js"],"names":["React","Component","Link","axios","Row","Col","Card","Button","dateFormat","Header","Ledger","constructor","props","state","visitors","vehicles","componentDidMount","method","url","baseURL","then","res","setState","data","catch","err","console","log","render","visitorList","vehicleList","btn","display","float","fontSize","marginRight","user","role","length","color","map","v","i","marginTop","textAlign","margin","marginLeft","width","backgroundColor","padding","VisitorCard","marginBottom","visitor","first_name","last_name","mobile","visit_date","visit_time","fname","lname","VehicleCard","vehicle","drivername","vehicleno","driverno"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Row, Col} from \"react-bootstrap\";\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\nimport dateFormat from 'dateformat';\r\n\r\nimport Header from './Header';\r\n\r\nclass Ledger extends Component{\r\n\r\n  constructor(props){\r\n    super(props)\r\n\r\n    this.state={\r\n      visitors : [],\r\n      vehicles : []\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    axios({\r\n  \t  method: 'get',\r\n  \t  url: 'visitor',\r\n  \t  baseURL: 'http://localhost:8082/',\r\n  \t}).then(res => {\r\n  \t\tthis.setState({\r\n  \t\t  visitors: res.data\r\n  \t\t})\r\n  \t  })\r\n  \t  .catch(err =>{\r\n  \t\tconsole.log('Error from visitor');\r\n  \t  });\r\n\r\n      axios({\r\n    \t  method: 'get',\r\n    \t  url: 'vehicle',\r\n    \t  baseURL: 'http://localhost:8082/',\r\n    \t}).then(res => {\r\n    \t\tthis.setState({\r\n    \t\t  vehicles: res.data\r\n    \t\t})\r\n    \t  })\r\n    \t  .catch(err =>{\r\n    \t\tconsole.log('Error from vehicle');\r\n    \t  });\r\n  }\r\n\r\n  render(){\r\n    //console.log(this.state.visitors);\r\n    let visitors = this.state.visitors;\r\n    let vehicles = this.state.vehicles;\r\n    let visitorList ;\r\n    let vehicleList ;\r\n    let btn = <Link to= \"/dashboard/ledger/add\">\r\n              <Button style={{display:'inline-block', float:'right', fontSize:'18px',marginRight : '10%'}} variant=\"warning\"><b>+ Add Entries</b></Button>\r\n              </Link>\r\n    if (this.props.user.role === 'association'){\r\n      btn = \"\"\r\n    }\r\n    if(visitors.length === 0)\r\n      visitorList = <center><h2 style={{color:'gray'}}>There is no visitor record!</h2></center>\r\n    else\r\n      visitorList = visitors.map((v,i)=> <VisitorCard key={i} visitor={v} />)\r\n    if(vehicles.length === 0)\r\n      vehicleList = <center><h2 style={{color:'gray'}}>There is no vehicle record!</h2></center>\r\n    else {\r\n      vehicleList = vehicles.map((v,i)=> <VehicleCard key={i} vehicle={v} />)\r\n    }\r\n    return(\r\n      <div>\r\n        <Header />\r\n        <div style = {{marginTop: '7%', color:'black'}}>\r\n          <center><h1>Ledger</h1></center><br />\r\n          <h2 style={{textAlign:'center', margin:'auto', marginLeft: '9%', display:'inline-block'}}>Visitors</h2>\r\n          {btn}<br /><br />\r\n          <div className=\"record\" style={{margin:'auto', width:'85%', fontSize:'25px'}}>\r\n          <Card className=\"w3-card-4\" style={{backgroundColor:'#600970', color:'white'}} >\r\n          <Row style={{padding:'15px 10px'}} >\r\n          <Col>Visitor Name</Col>\r\n          <Col>Mobile No.</Col>\r\n          <Col>Date</Col>\r\n          <Col>Time</Col>\r\n          <Col>Visited</Col>\r\n          </Row>\r\n          </Card></div><br/>\r\n          <div className=\"record\" style={{margin:'auto', width:'85%', fontSize:'22px'}}>\r\n          {visitorList}</div>\r\n          <br />\r\n          <br />\r\n          <h2 style={{marginLeft : '7%'}}>Vehicles</h2><br />\r\n          <div className=\"record\" style={{margin:'auto', width:'85%', fontSize:'25px'}}>\r\n          <Card className=\"w3-card-4\" style={{backgroundColor:'#600970', color:'white'}} >\r\n          <Row style={{padding:'15px 10px'}} >\r\n          <Col>Driver Name</Col>\r\n          <Col>Vehicle No.</Col>\r\n          <Col>Driver no.</Col>\r\n          <Col>Date</Col>\r\n          <Col>Time</Col>\r\n          <Col>Visited</Col>\r\n          </Row>\r\n          </Card></div><br/>\r\n          <div className=\"record\" style={{margin:'auto', width:'85%', fontSize:'22px'}}>\r\n          {vehicleList}</div>\r\n        </div>\r\n        <br />\r\n        <br />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction VisitorCard(props){\r\n\r\n  return(\r\n    <Card className=\"w3-card-4\" style={{marginBottom :'5px'}}>\r\n    <Row style={{padding:'15px 10px'}} >\r\n    <Col>{props.visitor.first_name + \" \"+props.visitor.last_name}</Col>\r\n    <Col>{props.visitor.mobile}</Col>\r\n    <Col>{dateFormat(props.visitor.visit_date, \"mmm dS, yyyy\")}</Col>\r\n    <Col>{props.visitor.visit_time}</Col>\r\n    <Col>{props.visitor.fname + \" \"+props.visitor.lname}</Col>\r\n    </Row>\r\n    </Card>\r\n);\r\n}\r\n\r\nfunction VehicleCard(props){\r\n\r\n  return(\r\n    <Card className=\"w3-card-4\" style={{marginBottom :'5px'}}>\r\n    <Row style={{padding:'15px 10px'}} >\r\n    <Col>{props.vehicle.drivername}</Col>\r\n    <Col>{props.vehicle.vehicleno}</Col>\r\n    <Col>{props.vehicle.driverno}</Col>\r\n    <Col>{dateFormat(props.vehicle.visit_date, \"mmm dS, yyyy\")}</Col>\r\n    <Col>{props.vehicle.visit_time}</Col>\r\n    <Col>{props.vehicle.first_name + \" \"+props.vehicle.last_name}</Col>\r\n    </Row>\r\n    </Card>\r\n);\r\n}\r\nexport default Ledger;\r\n"]},"metadata":{},"sourceType":"module"}