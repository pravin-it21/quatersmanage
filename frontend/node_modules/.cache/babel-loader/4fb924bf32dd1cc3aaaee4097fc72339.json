{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Danusshkumar\\\\Desktop\\\\TAC\\\\Apartment-Management-System\\\\frontend\\\\src\\\\components\\\\Event.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport dateFormat from 'dateformat';\nimport Header from './Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Event extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      events: []\n    };\n  }\n\n  componentDidMount() {\n    axios({\n      method: 'get',\n      url: 'events',\n      baseURL: 'http://localhost:8082/'\n    }).then(res => {\n      this.setState({\n        events: res.data\n      });\n    }).catch(err => {\n      console.log('Error from Event');\n    });\n  }\n\n  render() {\n    const events = this.state.events;\n    let eventList;\n\n    if (!events) {\n      eventList = \"there is no event record!\";\n    } else {\n      eventList = events.map((event, k) => /*#__PURE__*/_jsxDEV(EventCard, {\n        user: this.props.user,\n        event: event\n      }, k, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '100px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ShowEventList\",\n          style: {\n            marginLeft: '5%',\n            width: 'fit-content'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              textAlign: 'center',\n              margin: 'auto',\n              display: 'inline-block'\n            },\n            children: \"Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              display: 'inline-block',\n              float: 'right',\n              fontSize: '18px'\n            },\n            onClick: () => window.location.replace(\"/dashboard/event/myevents\"),\n            variant: \"primary\",\n            children: \"My Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list\",\n            children: eventList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(PostEvent, {\n          user: this.props.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 3\n    }, this);\n  }\n\n}\n\nfunction EventCard(props) {\n  return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      width: '18rem',\n      marginTop: '20px',\n      fontSize: '130%',\n      color: 'black',\n      padding: '15px',\n      backgroundColor: '#f7e6ff'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n      style: {\n        textAlign: 'center',\n        fontSize: '120%',\n        color: 'black'\n      },\n      children: props.event.event_name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      style: {\n        height: '4px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n      children: [\"Host: \", props.event.host_fname + \" \" + props.event.host_lname, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 61\n      }, this), \"Date: \", dateFormat(props.event.event_date, \"mmmm dS, yyyy\"), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 63\n      }, this), \"Time: \", props.event.event_time, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 34\n      }, this), \"Venue: \", props.event.event_venue, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 36\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 2\n  }, this);\n}\n\n_c = EventCard;\n\nfunction PostEvent(props) {\n  const handleSubmit = async e => {\n    e.preventDefault();\n    var data = {\n      event_name: document.getElementById(\"ename\").value,\n      event_date: document.getElementById(\"edate\").value,\n      event_time: document.getElementById(\"etime\").value,\n      event_venue: document.getElementById(\"evenue\").value,\n      user: props.user.userid\n    }; //console.log(\"Data: \",data)\n\n    axios({\n      method: 'post',\n      url: 'postevent',\n      baseURL: 'http://localhost:8082/',\n      data: data\n    }).then(res => {\n      if (res.data === \"Success\") alert(\"Event posted successfully!\");\n      window.location.reload();\n    }).catch(err => {\n      console.log('Error from Event');\n    }); //const history = useHistory();\n    //history.push(\"/dashboard/event\")\n\n    var frm = document.getElementsByName('post-event')[0];\n    frm.reset();\n  };\n\n  var today = new Date();\n  today.setDate(today.getDate() + 1);\n  var mindate = today.getFullYear() + '-' + String(today.getMonth() + 1).padStart(2, '0') + '-' + String(today.getDate()).padStart(2, '0');\n  console.log(mindate);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"postEvent\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: 'white'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"center\", {\n        children: \"Post Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      name: \"post-event\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Event name : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        type: \"text\",\n        id: \"ename\",\n        name: \"ename\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 39\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Date : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        type: \"date\",\n        id: \"edate\",\n        min: mindate,\n        name: \"edate\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Time : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        type: \"time\",\n        id: \"etime\",\n        name: \"etime\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Venue : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        type: \"text\",\n        id: \"evenue\",\n        name: \"evenue\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          className: \"btn btn-lg btn-primary bg-gradient font-base order-0\",\n          value: \"Post Event\",\n          style: {\n            marginTop: '20px',\n            backgroundColor: 'white',\n            color: 'purple'\n          },\n          id: \"postSubmit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 3\n  }, this);\n}\n\n_c2 = PostEvent;\nexport default Event;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"EventCard\");\n$RefreshReg$(_c2, \"PostEvent\");","map":{"version":3,"sources":["C:/Users/Danusshkumar/Desktop/TAC/Apartment-Management-System/frontend/src/components/Event.js"],"names":["React","Component","axios","Button","Card","dateFormat","Header","Event","constructor","props","state","events","componentDidMount","method","url","baseURL","then","res","setState","data","catch","err","console","log","render","eventList","map","event","k","user","marginTop","marginLeft","width","textAlign","margin","display","float","fontSize","window","location","replace","EventCard","color","padding","backgroundColor","event_name","height","host_fname","host_lname","event_date","event_time","event_venue","PostEvent","handleSubmit","e","preventDefault","document","getElementById","value","userid","alert","reload","frm","getElementsByName","reset","today","Date","setDate","getDate","mindate","getFullYear","String","getMonth","padStart"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport dateFormat from 'dateformat';\r\n\r\nimport Header from './Header';\r\n\r\n\r\nclass Event extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      events: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n\taxios({\r\n\t  method: 'get',\r\n\t  url: 'events',\r\n\t  baseURL: 'http://localhost:8082/',\r\n\t}).then(res => {\r\n\t\tthis.setState({\r\n\t\t  events: res.data\r\n\t\t})\r\n\t  })\r\n\t  .catch(err =>{\r\n\t\tconsole.log('Error from Event');\r\n\t  });\r\n\r\n  };\r\n\r\n\r\n  render() {\r\n    const events = this.state.events;\r\n    let eventList;\r\n\r\n    if(!events) {\r\n      eventList = \"there is no event record!\";\r\n    } else {\r\n      eventList = events.map((event, k) =>\r\n        <EventCard user={this.props.user} event={event} key={k} />\r\n      );\r\n    }\r\n\r\n    return (\r\n\t\t<div>\r\n\t    \t<Header />\r\n\t    \t<div style = {{marginTop: '100px'}}>\r\n\t      \t<div className=\"ShowEventList\" style={{marginLeft: '5%', width: 'fit-content'}}>\r\n\t      \t\t<h1 style={{textAlign:'center', margin:'auto', display:'inline-block'}}>Events</h1>\r\n\t\t\t\t\t\t<Button style={{display:'inline-block', float:'right', fontSize:'18px'}} onClick={() => window.location.replace(\"/dashboard/event/myevents\")} variant=\"primary\">\r\n            My Events</Button>\r\n\t          \t<div className=\"list\">\r\n\t                {eventList}\r\n\t          \t</div>\r\n\t\t\t  \t</div>\r\n\t\t\t  \t\t<PostEvent user={this.props.user}/>\r\n\t\t\t   </div>\r\n\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nfunction EventCard(props){\r\n\treturn (\r\n\t<Card style={{ width: '18rem', marginTop:'20px', fontSize:'130%', color:'black', padding:'15px', backgroundColor: '#f7e6ff'}}>\r\n\r\n\t\t<Card.Title style={{textAlign: 'center', fontSize:'120%', color:'black'}}>{props.event.event_name}</Card.Title>\r\n\t\t<hr style={{height:'4px'}}/>\r\n\t\t<Card.Text>\r\n\t\t\tHost: {props.event.host_fname+\" \"+props.event.host_lname}<br />\r\n\t\t\tDate: {dateFormat(props.event.event_date, \"mmmm dS, yyyy\")}<br />\r\n\t\t\tTime: {props.event.event_time}<br />\r\n\t\t\tVenue: {props.event.event_venue}<br />\r\n\t\t</Card.Text>\r\n\r\n\t</Card>\r\n\t)\r\n}\r\n\r\nfunction PostEvent(props){\r\n\tconst handleSubmit = async e =>{\r\n\t\te.preventDefault();\r\n\r\n\t\tvar data = {\r\n\t\t\tevent_name: document.getElementById(\"ename\").value,\r\n\t\t\tevent_date: document.getElementById(\"edate\").value,\r\n\t\t\tevent_time: document.getElementById(\"etime\").value,\r\n\t\t\tevent_venue: document.getElementById(\"evenue\").value,\r\n\t\t\tuser: props.user.userid\r\n\t\t}\r\n\r\n\t\t//console.log(\"Data: \",data)\r\n\r\n\t\taxios({\r\n\t\t  method: 'post',\r\n\t\t  url: 'postevent',\r\n\t\t  baseURL: 'http://localhost:8082/',\r\n\t\t  data: data\r\n\t\t}).then(res => {\r\n\t\t\tif(res.data === \"Success\")\r\n\t\t\t\talert(\"Event posted successfully!\")\r\n\t\t\t\twindow.location.reload();\r\n\r\n\t\t  })\r\n\t\t  .catch(err =>{\r\n\t\t\tconsole.log('Error from Event');\r\n\t\t  });\r\n\r\n\t\t//const history = useHistory();\r\n\t\t//history.push(\"/dashboard/event\")\r\n\r\n   \t\tvar frm = document.getElementsByName('post-event')[0];\r\n   \t\tfrm.reset();\r\n\t}\r\n\r\n  var today = new Date();\r\n  today.setDate(today.getDate() + 1)\r\n  var mindate = today.getFullYear()+'-'+String(today.getMonth() + 1).padStart(2, '0')+'-'+String(today.getDate()).padStart(2, '0');\r\n  console.log(mindate);\r\n\t\treturn(\r\n\t\t<div className=\"postEvent\">\r\n\t\t\t<h1 style={{color:'white'}}><center>Post Event</center></h1>\r\n\t\t\t<form name=\"post-event\" onSubmit = {handleSubmit}>\r\n\t\t\t\t<label>Event name : </label><br /><input className=\"form-control\" type=\"text\" id=\"ename\" name=\"ename\" required/>\r\n\t\t\t\t<label>Date : </label><br /><input className=\"form-control\" type=\"date\" id=\"edate\" min={mindate} name=\"edate\" required/>\r\n\t\t\t\t<label>Time : </label><br /><input className=\"form-control\" type=\"time\" id=\"etime\" name=\"etime\" required/>\r\n\t\t\t\t<label>Venue : </label><br /><input className=\"form-control\" type=\"text\" id=\"evenue\" name=\"evenue\" required/>\r\n\t\t\t\t<center><input type=\"submit\" className=\"btn btn-lg btn-primary bg-gradient font-base order-0\" value=\"Post Event\" style={{marginTop : '20px', backgroundColor: 'white', color:'purple'}} id=\"postSubmit\"/></center>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t)\r\n}\r\n\r\nexport default Event;\r\n"]},"metadata":{},"sourceType":"module"}